(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,n){},14:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},17:function(e,t,n){e.exports=n(29)},23:function(e,t,n){},29:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(13),c=n.n(r),s=(n(23),n(4)),l=n(5),i=n(8),u=n(6),m=n(9),h=(n(12),n(14)),p=n.n(h),f=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){console.log("component did mount.")}},{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"App-header"},o.a.createElement("img",{src:p.a,className:"App-logo",alt:"logo"}),o.a.createElement("a",{className:"App-link",href:"/survey",target:"_blank",rel:"noopener noreferrer"},"View survey (for customer)")))}}]),t}(a.Component),d=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={resp:null},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log("on other component did mount");var t=new URLSearchParams(this.props.location.search).get("foo");console.log("query param foo = "+t),fetch("/api").then(function(e){return e.json()}).then(function(t){return e.setState({resp:t.info})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=new URLSearchParams(this.props.location.search).get("foo");return o.a.createElement("div",null,o.a.createElement("p",null,"Other component foo = ",e),o.a.createElement("p",null,"Data = ",this.state.resp))}}]),t}(a.Component),y=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={surveyId:null,questions:[],answers:[],stockNo:null,companyId:null},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"onTextFieldChange",value:function(e,t){var n=this.state.answers;n[t-1].answer=e.target.value,this.setState({answers:n}),console.log("on text field change")}},{key:"onInputClick",value:function(e,t,n){console.log("value = "+t+" is "+e);var a=this.state.answers;a[t-1].answer=e,this.setState({answers:a})}},{key:"onSubmit",value:function(e){e.preventDefault(),console.log("on submit"),console.log(this.state.answers),this.sendAnswers()}},{key:"componentDidMount",value:function(){this.getSurvey()}},{key:"getSurvey",value:function(){var e=this,t=new URLSearchParams(this.props.location.search),n=t.get("StockNo"),a=t.get("CompanyId"),o=t.get("SurveyId");console.log(n+" "+a+" "+o),n&&a&&o?(console.log("getting survey"),fetch("/api/survey?StockNo="+n+"&CompanyId="+a+"&SurveyId="+o).then(function(e){return e.json()}).then(function(t){if(console.log(t),t.SurveyId===o){console.log("received survey");var r=1,c=[],s=t.SurveyData.map(function(e){return e.key=r,c[r-1]={answer:null},console.log("setting key for "+r),r++,e});e.setState({surveyId:t.SurveyId,questions:s,answers:c,stockNo:n,companyId:a})}else console.log("didn't receive survey")}).catch(function(e){return console.log(e)})):console.log("no id given")}},{key:"sendAnswers",value:function(){console.log("sending answers"),fetch("/api/survey",{method:"POST",body:JSON.stringify({surveyId:this.state.surveyId,answers:this.state.answers,stockNo:this.state.stockNo,companyId:this.state.companyId})}).then(function(e){return e.json().then(function(e){return console.log({data:e})})}).catch(function(e){return console.log(e)})}},{key:"getQuestionJSX",value:function(e){var t=this;return"bool"===e.type?o.a.createElement("div",{className:"form-check",key:e.key},o.a.createElement("label",null,e.question),o.a.createElement("br",null),o.a.createElement("input",{className:"form-check-input",name:"radio"+e.key,id:"radioyes"+e.key,type:"radio",onClick:function(n){return t.onInputClick(!0,e.key,n)}}),o.a.createElement("label",{className:"form-check-label",htmlFor:"radioyes"+e.key},"Yes")," ",o.a.createElement("br",null),o.a.createElement("input",{className:"form-check-input",name:"radio"+e.key,id:"radiono"+e.key,type:"radio",onClick:function(n){return t.onInputClick(!1,e.key,n)}}),o.a.createElement("label",{className:"form-check-label",htmlFor:"radiono"+e.key},"No"),o.a.createElement("p",null)):"text"===e.type?o.a.createElement("div",{className:"form-group",key:e.key},o.a.createElement("label",null,e.question),o.a.createElement("br",null),o.a.createElement("textarea",{className:"form-control",id:"exampleFormControlTextarea1",rows:"4",onChange:function(n){t.onTextFieldChange(n,e.key)}}),o.a.createElement("p",null)):null}},{key:"render",value:function(){var e=this;this.getQuestionJSX.bind(this);return o.a.createElement("div",{className:"container"},o.a.createElement("form",null,this.state.questions.map(function(t){return e.getQuestionJSX(t)}),o.a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:function(t){return e.onSubmit(t)}},"Submit")))}}]),t}(a.Component),v=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={test:"not set",fetchResp:"not response yet"},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=new URLSearchParams(this.props.location.search).get("id");console.log("tester query param = "+t),this.setState({test:t}),fetch("/api?id="+t).then(function(e){return e.json()}).then(function(t){return e.setState({fetchResp:t.testresp})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){return console.log("rendering here "),o.a.createElement("div",null,o.a.createElement("p",null,"state id: ",this.state.test),o.a.createElement("p",null,"test resp: ",this.state.fetchResp))}}]),t}(a.Component),g=n(32),k=n(31),b=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){o.a.createElement("div",null);return o.a.createElement(g.a,null,o.a.createElement(k.a,{exact:!0,path:"/",component:f}),o.a.createElement(k.a,{exact:!0,path:"/other",component:d}),o.a.createElement(k.a,{exact:!0,path:"/survey",component:y}),o.a.createElement(k.a,{exact:!0,path:"/tester",component:v}))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var E=n(30);c.a.render(o.a.createElement(E.a,null,o.a.createElement(b,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[17,2,1]]]);
//# sourceMappingURL=main.1be50508.chunk.js.map